@using GreenHouse.Web.Controller.Model
@using Microsoft.Extensions.Options


@model RegisterViewModel

@{
    ViewData["Title"] = "ثبت نام";
}
<div class="col mx-auto context-Register" style="z-index:1; ">
    <div class="card">
        <div class="card-body">
            <div class="p-4 rounded">
                <div class="text-center">
                    <h3 class="">ثبت نام</h3>
                    <img class="logo_banader" src="~/PanelContent/logo/logo/newLogoGreenHouseWithBottomTitle.png" alt="logo_banader" />
                    <br />
                </div>
                <br />
                <partial name="_ValidationSummary" />
                <div class="form-body">

                    <form class="row g-3 needs-validation" asp-route="register">
                        @*      <div id="FirstRegister">*@

                        <div class="col-md-6 col-sm-12">
                            <label class="form-label">نام کاربری</label>
                            <div class="input-group">
                                <i class='bi bi-person-circle input-group-text bg-transparent'></i>
                                <input data-val-required="لطفا نام کاربری را وارد کنید" asp-for="UserName" class="form-control" id="Username" placeholder="نام کاربری" autofocus required autocomplete="on">
                                <div class="invalid-feedback" data-valmsg-for="Username" data-valmsg-replace="true" for="Username"></div>

                            </div>

                        </div>

                        <div class="col-md-6 col-sm-12">
                            <label class="form-label">شماره موبایل</label>
                            <div class="input-group">
                                <i class='bi bi-phone input-group-text bg-transparent'></i>
                                <input pattern="^\d{11}$"
                                       data-val-required="لطفا شماره تماس شرکت را وارد کنید"
                                       maxlength="11"
                                       minlength="11"
                                       data-msg-minlength="شماره تماس حداقل 11 رقم است"
                                       data-msg-maxlength=" شماره تماس حداکثر 11 رقم است"
                                       data-msg-pattern="شماره تماس وارد شده معتبر نیست" asp-for="PhoneNumber" id="PhoneNumber" class="form-control" placeholder="مثال 09123456789" autofocus required autocomplete="on">
                                <div class="invalid-feedback" data-valmsg-for="PhoneNumber" data-valmsg-replace="true" for="PhoneNumber"></div>

                            </div>

                        </div>



                        <div class="col-md-6 col-sm-12">
                            <label for="Password" class="form-label">رمز عبور</label>
                            <div class="input-group">
                                <i class='bi-lock input-group-text bg-transparent'></i>
                                <input data-val="true"
                                       data-val-required="لطفا رمز عبور را وارد کنید"
                                       minlength="8"
                                       data-msg-minlength="رمز عبور میبایست حداقل 8 رقمی باشد"
                                       asp-for="Password" id="Password" type="password" data-val="true" class="form-control " placeholder="رمز عبور" required>
                                <div class="invalid-feedback" data-valmsg-for="Password" data-valmsg-replace="true" for="Password"></div>

                            </div>
                        </div>

                        <div class="col-md-6 col-sm-12">
                            <label for="ConfirmPassword" class="form-label">تکرار رمز عبور</label>
                            <div class="input-group">
                                <i class='bi-lock input-group-text bg-transparent'></i>
                                <input data-val-required="لطفا تکرار رمز عبور را وارد کنید"
                                       asp-for="ConfirmPassword" type="password"
                                       class="form-control" placeholder="تکرار رمز عبور"
                                       id="ConfirmPassword" required>
                                <div class="invalid-feedback" data-valmsg-for="ConfirmPassword" data-valmsg-replace="true" for="ConfirmPassword"></div>

                            </div>
                        </div>

                        <div class="col-md-6 col-sm-12">
                            <label class="form-label">نام گلخانه دار</label>
                            <div class="input-group">
                                <i class='bi bi-person input-group-text bg-transparent input-group-text bg-transparent'></i>
                                <input data-val-required=" لطفا نام گلخانه دار را وارد کنید" asp-for="FirstName" id="FirstName" class="form-control" placeholder="نام گلخانه دار" autofocus required autocomplete="on">
                                <div class="invalid-feedback" data-valmsg-for="FirstName" data-valmsg-replace="true" for="FirstName"></div>

                            </div>


                        </div>
                        <div class="col-md-6 col-sm-12">
                            <label class="form-label">نام خانوادگی گلخانه دار</label>
                            <div class="input-group">
                                <i class='bi bi-person input-group-text bg-transparent input-group-text bg-transparent'></i>
                                <input data-val-required=" لطفا نام خانوادگی گلخانه دار را وارد کنید" asp-for="LastName" id="lastName" class="form-control" placeholder="نام خانوادگی گلخانه دار" autofocus required autocomplete="on">
                                <div class="invalid-feedback" data-valmsg-for="LastName" data-valmsg-replace="true" for="LastName"></div>
                            </div>


                        </div>

                        <div class="col-12">
                            <div class="d-grid">
                                <button id="SendCode" type="submit" class="btn btn-primary" name="button" value="login">
                                    <i class="bi bi-cloud-plus"></i>ثبت نام
                                </button>
                            </div>
                        </div>

                    </form>

                    <div class="quizRegister">
                        ثبت نام کرده‌اید؟ <a href="/Account/login"> ورود</a><div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {

    <script src="~/js/otp.js"></script>
    <script src="~/js/jquery.validate.min.js"></script>
    <script src="~/js/jquery.unobtrusive-ajax.js"></script>
    <script src="~/js/jquery.validate.unobtrusive.min.js"></script>
    <style>
        tr th, tr td {
            text-align: center !important
        }

    </style>

    <script>
        $('.single-select').select2({
            theme: 'bootstrap4',
            width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
            placeholder: $(this).data('placeholder'),
            allowClear: Boolean($(this).data('allow-clear')),
        });
        $('.multiple-select').select2({
            theme: 'bootstrap4',
            width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
            placeholder: $(this).data('placeholder'),
            allowClear: Boolean($(this).data('allow-clear')),
        });

        $('.datepicker2').persianDatepicker({
            'format': 'YYYY/MM/DD',
            'autoclose': true,
            showOtherMonths: true,
            selectOtherMonths: true
        });

        function AcceptRoles() {
            setCookie('AcceptRoles', 'use Accept Roles', 2);
            $('#rolesModal').modal('toggle');
        }

        checkAcceptRoleWithUser();
        function checkAcceptRoleWithUser() {

            let getMyCookie = getCookie("AcceptRoles");
            if (getMyCookie == "") {
                $("#rolesModalBtn").click();
            }
            else {

            }
        }


    </script>

    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>

}



